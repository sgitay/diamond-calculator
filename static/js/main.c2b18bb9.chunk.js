(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(e,t,a){e.exports=a(353)},351:function(e,t,a){},353:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(61),l=a.n(i),o=a(41),c=a(42),s=a(46),u=a(43),h=a(47),d=a(358),m=a(359),g=a(4),v=a(27),p=a(62),f=a(112),E=a.n(f),C=a(13),b=a.n(C),S=a(7),y=a.n(S),P=a(16),k=a.n(P),w=a(357),T=a(356),N=function(e){return r.a.createElement("header",null,r.a.createElement(w.a,null,r.a.createElement(w.a.Header,null,r.a.createElement(w.a.Brand,null,r.a.createElement(T.a,{to:"/"},"Diamond Calculator")))))},L=Object(p.default)({url:"https://scalr.api.appbase.io",app:"kwfl-rapnet-prices",credentials:"kg4GbKwx6:063eeb44-18e9-48c9-b5a0-4541d889597f"}),O=["FL","IF","VVS1","VVS2","VS1","VS2","SI1","SI2","SI3","I1","I2","I3"],R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={color:"",shape:"",clarity:"",hits:[],originalHits:[],userEnteredRelToList:0,userEnteredSellPc:0,userEnteredTotalPc:0,isLoading:!1,activeInputField:"",initialRendering:!0,userEnteredWeight:0,checkBoxStatus:!1},a.handleColorDropdownChange=a.handleColorDropdownChange.bind(Object(g.a)(Object(g.a)(a))),a.handleClarityDropdownChange=a.handleClarityDropdownChange.bind(Object(g.a)(Object(g.a)(a))),a.handleShapeDropdownChange=a.handleShapeDropdownChange.bind(Object(g.a)(Object(g.a)(a))),a.changeRelToList=a.changeRelToList.bind(Object(g.a)(Object(g.a)(a))),a.totalPriceChange=a.totalPriceChange.bind(Object(g.a)(Object(g.a)(a))),a.sellPcChange=a.sellPcChange.bind(Object(g.a)(Object(g.a)(a))),a.handleWeightInputChange=a.handleWeightInputChange.bind(Object(g.a)(Object(g.a)(a))),a.handleCheckBoxStatusChange=a.handleCheckBoxStatusChange.bind(Object(g.a)(Object(g.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=t.userEnteredWeight,n=this.state,r=n.userEnteredWeight,i=n.originalHits,l=n.color,o=n.clarity,c=n.shape;if(l&&c&&o&&r&&a!==r){var s=E()(i,function(e){return Number.parseFloat(e._source.fromweight)<=r&&r<=Number.parseFloat(e._source.toweight)});this.setState({checkBoxStatus:!1,hits:s}),console.log("hits",this.state.hits)}}},{key:"handleColorDropdownChange",value:function(e){var t=this;this.setState({color:e},function(){t.getPrice()})}},{key:"handleClarityDropdownChange",value:function(e){var t=this;this.setState({clarity:e},function(){t.getPrice()})}},{key:"handleShapeDropdownChange",value:function(e){var t=this;this.setState({shape:e},function(){t.getPrice()})}},{key:"handleWeightInputChange",value:function(e){this.setState({userEnteredWeight:e.target.value,activeInputField:"WEIGHT"})}},{key:"mapOrder",value:function(e,t,a){return e.sort(function(e,n){var r=e[a],i=n[a];return t.indexOf(r)>t.indexOf(i)?1:-1}),e}},{key:"getPrice",value:function(){var e=this,t=this.state,a=t.color,n=t.shape,r=t.clarity;""!==a&&""!==n&&""!==r&&(this.setState({isLoading:!0}),L.search({type:"rapnetpricing",body:{query:{bool:{must:[{bool:{must:[{term:{"shape.keyword":n}},{term:{"color.keyword":a}},{term:{"clarity.keyword":r}}]}}]}},_source:{includes:["*"],excludes:[]},from:0}}).then(function(t){e.setState({hits:t.hits.hits,originalHits:t.hits.hits,isLoading:!1,initialRendering:!1})}).catch(function(t){e.setState({isLoading:!1,initialRendering:!1}),console.log("Error: ",t)}))}},{key:"handleCheckBoxStatusChange",value:function(e){this.setState({checkBoxStatus:e.target.checked})}},{key:"changeRelToList",value:function(e){this.setState({activeInputField:"REL_TO_LIST",userEnteredRelToList:e.target.value})}},{key:"totalPriceChange",value:function(e){var t=y.a.unformat(e.target.value,{code:"USD"});this.setState({activeInputField:"TOTAL_PRICE",userEnteredTotalPc:t})}},{key:"sellPcChange",value:function(e){var t=y.a.unformat(e.target.value,{code:"USD"});this.setState({activeInputField:"SELL_PRICE",userEnteredSellPc:t})}},{key:"getListPrice",value:function(){var e=this.state,t=e.hits,a=e.userEnteredWeight;return t.length&&a?b()(t[0]._source.ppc,2):0}},{key:"getSPWhenRelToListActive",value:function(){var e=this.state,t=e.userEnteredRelToList,a=e.hits,n=0;if(!a.length)return n;if(""===t)return 0;var r=a[0]._source.ppc;return n=k()(r)+k()(r*(t/100)),b()(n,2)}},{key:"getTPWhenRelToListActive",value:function(){var e=this.state,t=e.hits,a=e.userEnteredWeight,n=e.userEnteredRelToList,r=0;if(!t.length)return r;if(""===n)return 0;var i=t[0]._source.ppc,l=k()(i)+k()(i*(n/100));return a>0&&(r=l*a),b()(r,2)}},{key:"getRelToListWhenSPActive",value:function(){var e=this.state,t=e.userEnteredSellPc,a=void 0===t?0:t,n=e.hits,r="";if(!n.length)return r;if(""===a)return 0;var i=n[0]._source.ppc;return r=(a-i)/i*100,b()(r,2)}},{key:"getTPWhenSPActive",value:function(){var e=this.state,t=e.userEnteredSellPc,a=void 0===t?0:t,n=e.userEnteredWeight,r="";return e.hits.length?""===a?0:(r=a*n,b()(r,2)):r}},{key:"getRelToListWhenTPActive",value:function(){var e=this.state,t=e.hits,a=e.userEnteredTotalPc,n=e.userEnteredWeight,r=0;if(!t.length)return r;if(""===a)return 0;var i=t[0]._source.ppc;return r=(a/n-i)/i*100,b()(r,2)}},{key:"getSPWhenTPActive",value:function(){var e=this.state,t=e.userEnteredTotalPc,a=e.userEnteredWeight,n="";return e.hits.length?(n=t/a,b()(n,2)):n}},{key:"convertPriceToCode",value:function(e){if(isNaN(e)||null===e||""===e||0===e)return"";for(var t=(e=Number(e)).toFixed(2).toString(),a="",n="",r=0;r<t.length;r++){var i=t.charAt(r);if("."===i)break;"1"===i?""!==n&&n.slice(-1)===i?(a+="X",n+=i):(a+="B",n+=i):"2"===i?""!==n&&n.slice(-1)===i?(a+="X",n+=i):(a+="I",n+=i):"3"===i?""!==n&&n.slice(-1)===i?(a+="X",n+=i):(a+="G",n+=i):"4"===i?""!==n&&n.slice(-1)===i?(a+="X",n+=i):(a+="E",n+=i):"5"===i?""!==n&&n.slice(-1)===i?(a+="X",n+=i):(a+="S",n+=i):"6"===i?""!==n&&n.slice(-1)===i?(a+="X",n+=i):(a+="T",n+=i):"7"===i?""!==n&&n.slice(-1)===i?(a+="X",n+=i):(a+="H",n+=i):"8"===i?""!==n&&n.slice(-1)===i?(a+="X",n+=i):(a+="A",n+=i):"9"===i?""!==n&&n.slice(-1)===i?(a+="X",n+=i):(a+="L",n+=i):"0"===i&&(""!==n&&n.slice(-1)===i?(a+="X",n+=i):(a+="F",n+=i))}return a}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.activeInputField,i=t.userEnteredRelToList,l=t.userEnteredTotalPc,o=t.userEnteredSellPc,c=t.userEnteredWeight,s=t.hits,u=t.initialRendering,h=t.checkBoxStatus,d=t.shape,m=t.color,g=t.clarity,p=this.getListPrice(),f=y.a.format(p,{code:"USD"}),E=0,C=p,b=y.a.format(C,{code:"USD"}),S=p*c,P=y.a.format(S,{code:"USD"}),k=c;switch(n){case"REL_TO_LIST":E=i,C=this.getSPWhenRelToListActive(),b=y.a.format(C,{code:"USD"}),S=this.getTPWhenRelToListActive(),P=y.a.format(S,{code:"USD"});break;case"SELL_PRICE":E=this.getRelToListWhenSPActive(),C=o,b=y.a.format(C,{code:"USD"}),S=this.getTPWhenSPActive(),P=y.a.format(S,{code:"USD"});break;case"TOTAL_PRICE":E=this.getRelToListWhenTPActive(),C=this.getSPWhenTPActive(),b=y.a.format(C,{code:"USD"}),S=l,P=y.a.format(S,{code:"USD"})}var w="";return w=u||s.length||""===c?r.a.createElement("fieldset",{className:"form-fieldset"},r.a.createElement("legend",{className:"form-legend"},"Result:"),a&&r.a.createElement("div",{className:"App-Loader"},"Hang on, fetching results..."),r.a.createElement("div",{className:"outputSectionRow"},r.a.createElement("div",{className:"outputColumns xs-device-set-margin"},r.a.createElement("div",{className:"show-code-field"},r.a.createElement("label",{htmlFor:"ValueToCodeConvert",className:"conversion-label"},r.a.createElement("input",{type:"checkbox",className:"show-code-input",id:"ValueToCodeConvert",onChange:this.handleCheckBoxStatusChange}),r.a.createElement("span",null,"Show Code")))),r.a.createElement("div",{className:"outputColumns xs-device-set-margin"},r.a.createElement("h2",{className:"form-control-label"},"List Price"),h?"":r.a.createElement("input",{className:"form-control",type:"text",value:f,disabled:!0}),h&&p?r.a.createElement("div",{className:"showCode"},this.convertPriceToCode(p)):null),r.a.createElement("div",{className:"outputColumns xs-device-set-margin"},r.a.createElement("h2",{className:"form-control-label"},"Sell Price"),h?"":r.a.createElement("input",{className:"form-control",value:b,type:"text",onChange:this.sellPcChange}),h&&C?r.a.createElement("div",{className:"showCode"},this.convertPriceToCode(C)):null),r.a.createElement("div",{className:"outputColumns xs-device-set-margin"},r.a.createElement("h2",{className:"form-control-label"},"Total Price"),h?"":r.a.createElement("input",{className:"form-control",value:P,type:"text",onChange:this.totalPriceChange}),h&&S?r.a.createElement("div",{className:"showCode"},this.convertPriceToCode(S)):null))):r.a.createElement("div",{className:"No-records"},"No record(s) available."),r.a.createElement("div",{className:"container"},r.a.createElement(N,null),r.a.createElement(v.a,{app:"kwfl-rapnet-prices",credentials:"kg4GbKwx6:063eeb44-18e9-48c9-b5a0-4541d889597f",type:"rapnetpricing"},r.a.createElement("div",{id:"input-area"},r.a.createElement("fieldset",{className:"form-fieldset"},r.a.createElement("legend",{className:"form-legend"},"FillUp Details:"),r.a.createElement("div",{className:"inputSectionRow"},r.a.createElement("div",{className:"inputColumns xs-device-set-margin"},r.a.createElement(v.b,{componentId:"shape",className:"reactive-form-control",dataField:"shape.keyword",title:"Shape",showCount:!1,onValueChange:this.handleShapeDropdownChange})),r.a.createElement("div",{className:"inputColumns xs-device-set-margin"},r.a.createElement(v.b,{componentId:"color",className:"reactive-form-control",dataField:"color.keyword",title:"Color",showCount:!1,onValueChange:this.handleColorDropdownChange})),r.a.createElement("div",{className:"inputColumns xs-device-set-margin"},r.a.createElement(v.b,{componentId:"clarity",className:"reactive-form-control",dataField:"clarity.keyword",title:"Clarity",showCount:!1,transformData:function(t){return e.mapOrder(t,O,"key")},onValueChange:this.handleClarityDropdownChange})),r.a.createElement("div",{className:"inputColumns"},r.a.createElement("h2",{className:"form-control-label"},"Weight"),r.a.createElement("input",{type:"number",className:"form-control",onChange:this.handleWeightInputChange,value:k})),r.a.createElement("div",{className:"inputColumns xs-device-set-margin"},r.a.createElement("h2",{className:"form-control-label"},"Mark(%)"),c&&m&&d&&g?r.a.createElement("input",{type:"number",className:"form-control",onChange:this.changeRelToList,value:E}):r.a.createElement("input",{type:"number",className:"form-control",onChange:this.changeRelToList,value:E,disabled:!0}))))),r.a.createElement("div",{id:"result-area"},w)))}}]),t}(n.Component),W=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(m.a,{exact:!0,path:"*",component:R}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(349),a(351);l.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[152,2,1]]]);
//# sourceMappingURL=main.c2b18bb9.chunk.js.map