(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(e,t,a){e.exports=a(349)},347:function(e,t,a){},349:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(61),i=a.n(l),o=a(40),c=a(41),s=a(46),u=a(42),h=a(45),d=a(355),m=a(354),g=a(3),v=a(26),p=a(62),f=a(47),E=a.n(f),C=a(12),b=a.n(C),P=a(48),S=a.n(P),T=a(15),w=a.n(T),y=a(353),N=a(352),k=function(e){return r.a.createElement("header",null,r.a.createElement(y.a,null,r.a.createElement(y.a.Header,null,r.a.createElement(y.a.Brand,null,r.a.createElement(N.a,{to:"/"},"Diamond Calculator")))))},L=Object(p.default)({url:"https://scalr.api.appbase.io",app:"calculator-app",credentials:"O8OIAs7PU:2b14ce86-4bbf-4147-9139-ce465d2c7f16"}),I=["FL","IF","VVS1","VVS2","VS1","VS2","SI1","SI2","SI3","I1","I2","I3"],O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={color:"",shape:"",clarity:"",hits:[],originalHits:[],userEnteredRelToList:0,userEnteredSellPc:0,userEnteredTotalPc:0,isLoading:!1,activeInputField:"",initialRendering:!0,userEnteredWeight:"",checkBoxStatus:!1,weightInclude:!1},a.handleColorDropdownChange=a.handleColorDropdownChange.bind(Object(g.a)(Object(g.a)(a))),a.handleClarityDropdownChange=a.handleClarityDropdownChange.bind(Object(g.a)(Object(g.a)(a))),a.handleShapeDropdownChange=a.handleShapeDropdownChange.bind(Object(g.a)(Object(g.a)(a))),a.changeRelToList=a.changeRelToList.bind(Object(g.a)(Object(g.a)(a))),a.totalPriceChange=a.totalPriceChange.bind(Object(g.a)(Object(g.a)(a))),a.sellPcChange=a.sellPcChange.bind(Object(g.a)(Object(g.a)(a))),a.handleWeightInputChange=a.handleWeightInputChange.bind(Object(g.a)(Object(g.a)(a))),a.handleCheckBoxStatusChange=a.handleCheckBoxStatusChange.bind(Object(g.a)(Object(g.a)(a))),a.handleWeightChange=a.handleWeightChange.bind(Object(g.a)(Object(g.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleColorDropdownChange",value:function(e){var t=this;this.setState({color:e},function(){t.getPrice()})}},{key:"handleClarityDropdownChange",value:function(e){var t=this;this.setState({clarity:e},function(){t.getPrice()})}},{key:"handleShapeDropdownChange",value:function(e){var t=this;this.setState({shape:e},function(){t.getPrice()})}},{key:"handleWeightInputChange",value:function(e){this.setState({userEnteredWeight:e.target.value,activeInputField:"WEIGHT"})}},{key:"mapOrder",value:function(e,t,a){return e.sort(function(e,n){var r=e[a],l=n[a];return t.indexOf(r)>t.indexOf(l)?1:-1}),e}},{key:"getPrice",value:function(){var e=this,t=this.state,a=t.color,n=t.shape,r=t.clarity;""!==a&&""!==n&&""!==r&&(this.setState({isLoading:!0}),L.search({type:"CalculatorData",body:{query:{bool:{must:[{bool:{must:[{term:{"shape.keyword":n}},{term:{"color.keyword":a}},{term:{"clarity.keyword":r}}]}}]}},_source:{includes:["*"],excludes:[]},from:0}}).then(function(t){e.setState({hits:t.hits.hits,originalHits:t.hits.hits,isLoading:!1,initialRendering:!1})}).catch(function(t){e.setState({isLoading:!1,initialRendering:!1}),console.log("Error: ",t)}))}},{key:"handleCheckBoxStatusChange",value:function(e){this.setState({checkBoxStatus:e.target.checked})}},{key:"handleWeightChange",value:function(e){this.setState({activeInputField:"WEIGHT",weightInclude:e.target.checked})}},{key:"changeRelToList",value:function(e){this.setState({activeInputField:"REL_TO_LIST",userEnteredRelToList:e.target.value})}},{key:"totalPriceChange",value:function(e){e.formattedValue;var t=e.value;this.setState({activeInputField:"TOTAL_PRICE",userEnteredTotalPc:t})}},{key:"sellPcChange",value:function(e){e.formattedValue;var t=e.value;this.setState({activeInputField:"SELL_PRICE",userEnteredSellPc:t})}},{key:"getListPrice",value:function(){var e=this.state,t=e.hits,a=e.userEnteredWeight;return t.length&&a?b()(t[0]._source.ppc,2):0}},{key:"getSPWhenRelToListActive",value:function(){console.log("getSPWhenRelToListActive");var e=this.state,t=e.userEnteredRelToList,a=e.hits,n=0;if(!a.length)return n;if(""===t)return 0;var r=a[0]._source.ppc;return n=w()(r)+w()(r*(t/100)),b()(n,2)}},{key:"getTPWhenRelToListActive",value:function(){console.log("getTPWhenRelToListActive");var e=this.state,t=e.hits,a=e.userEnteredWeight,n=e.userEnteredRelToList,r=0;if(!t.length)return r;if(""===n)return 0;var l=t[0]._source.ppc,i=w()(l)+w()(l*(n/100));return a>0&&(r=i*a),b()(r,2)}},{key:"getRelToListWhenSPActive",value:function(){console.log("getRelToListWhenSPActive");var e=this.state,t=e.userEnteredSellPc,a=void 0===t?0:t,n=e.hits,r="";if(!n.length)return r;if(""===a)return 0;var l=n[0]._source.ppc;return r=(a-l)/l*100,b()(r,2)}},{key:"getTPWhenSPActive",value:function(){console.log("getTPWhenSPActive");var e=this.state,t=e.userEnteredSellPc,a=void 0===t?0:t,n=e.userEnteredWeight,r="";return e.hits.length?""===a?0:(r=a*n,b()(r,2)):r}},{key:"getRelToListWhenTPActive",value:function(){console.log("getRelToListWhenTPActive");var e=this.state,t=e.hits,a=e.userEnteredTotalPc,n=e.userEnteredWeight,r=(e.weightInclude,0);if(!t.length)return r;if(""===a)return 0;if(""===n)return 0;var l=t[0]._source.ppc;return r=(a/n-l)/l*100,b()(r,2)}},{key:"getSPWhenTPActive",value:function(){var e=this.state,t=e.userEnteredTotalPc,a=e.userEnteredWeight,n=e.hits;e.weightInclude;console.log("getSPWhenTPActive",n);n[0]&&n[0]._source.ppc;var r="";return n.length?(r=t/a,b()(r,2)):r}},{key:"convertPriceToCode",value:function(e){if(isNaN(e)||null===e||""===e||0===e)return"";for(var t=(e=Number(e)).toFixed(2).toString(),a="",n="",r=0;r<t.length;r++){var l=t.charAt(r);if("."===l)break;"1"===l?""!==n&&n.slice(-1)===l?(a+="X",n+=l):(a+="B",n+=l):"2"===l?""!==n&&n.slice(-1)===l?(a+="X",n+=l):(a+="I",n+=l):"3"===l?""!==n&&n.slice(-1)===l?(a+="X",n+=l):(a+="G",n+=l):"4"===l?""!==n&&n.slice(-1)===l?(a+="X",n+=l):(a+="E",n+=l):"5"===l?""!==n&&n.slice(-1)===l?(a+="X",n+=l):(a+="S",n+=l):"6"===l?""!==n&&n.slice(-1)===l?(a+="X",n+=l):(a+="T",n+=l):"7"===l?""!==n&&n.slice(-1)===l?(a+="X",n+=l):(a+="H",n+=l):"8"===l?""!==n&&n.slice(-1)===l?(a+="X",n+=l):(a+="A",n+=l):"9"===l?""!==n&&n.slice(-1)===l?(a+="X",n+=l):(a+="L",n+=l):"0"===l&&(""!==n&&n.slice(-1)===l?(a+="X",n+=l):(a+="F",n+=l))}return a}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.activeInputField,l=t.userEnteredRelToList,i=t.userEnteredTotalPc,o=t.userEnteredSellPc,c=t.userEnteredWeight,s=t.hits,u=t.initialRendering,h=t.checkBoxStatus,d=t.weightInclude,m=t.shape,g=t.color,p=t.clarity,f=this.getListPrice(),E=0,C=f;console.log("render sellPrice",C);var b=f*c,P=c;switch(n){case"REL_TO_LIST":console.log("REL_TO_LIST"),E=l,C=this.getSPWhenRelToListActive(),b=this.getTPWhenRelToListActive();break;case"SELL_PRICE":console.log("SELL_PRICE"),E=this.getRelToListWhenSPActive(),C=o,b=this.getTPWhenSPActive();break;case"TOTAL_PRICE":console.log("TOTAL_PRICE"),E=this.getRelToListWhenTPActive(),C=this.getSPWhenTPActive(),b=i}var T="";return T=u||s.length||""===c?r.a.createElement("fieldset",{className:"form-fieldset"},r.a.createElement("legend",{className:"form-legend"},"Result:"),a&&r.a.createElement("div",{className:"App-Loader"},"Hang on, fetching results..."),r.a.createElement("div",{className:"outputSectionRow"},r.a.createElement("div",{className:"outputColumns xs-device-set-margin"},r.a.createElement("div",{className:"show-code-field"},r.a.createElement("label",{htmlFor:"ValueToCodeConvert",className:"conversion-label"},r.a.createElement("input",{type:"checkbox",className:"show-code-input",id:"ValueToCodeConvert",onChange:this.handleCheckBoxStatusChange}),r.a.createElement("span",null,"Show Code")))),r.a.createElement("div",{className:"outputColumns xs-device-set-margin"},r.a.createElement("h2",{className:"form-control-label"},"List Price"),h?"":r.a.createElement(S.a,{disabled:!0,value:f,className:"form-control",thousandSeparator:!0,prefix:"$"}),h&&f?r.a.createElement("div",{className:"showCode"},this.convertPriceToCode(f)):null),r.a.createElement("div",{className:"outputColumns xs-device-set-margin"},r.a.createElement("h2",{className:"form-control-label"},"Sell Price"),h?"":r.a.createElement(S.a,{value:C,className:"form-control",thousandSeparator:!0,onValueChange:function(t){return e.sellPcChange(t)},prefix:"$"}),h&&C?r.a.createElement("div",{className:"showCode"},this.convertPriceToCode(C)):null),r.a.createElement("div",{className:"outputColumns xs-device-set-margin"},r.a.createElement("h2",{className:"form-control-label"},"Total Price"),h?"":r.a.createElement(S.a,{value:b,className:"form-control",thousandSeparator:!0,onValueChange:function(t){return e.totalPriceChange(t)},prefix:"$"}),h&&b?r.a.createElement("div",{className:"showCode"},this.convertPriceToCode(b)):null))):r.a.createElement("div",{className:"No-records"},"No record(s) available."),r.a.createElement("div",{className:"container"},r.a.createElement(k,null),r.a.createElement(v.a,{app:"calculator-app",credentials:"O8OIAs7PU:2b14ce86-4bbf-4147-9139-ce465d2c7f16",type:"CalculatorData"},r.a.createElement("div",{id:"input-area"},r.a.createElement("fieldset",{className:"form-fieldset"},r.a.createElement("legend",{className:"form-legend"},"FillUp Details:"),r.a.createElement("div",{className:"inputSectionRow"},r.a.createElement("div",{className:"inputColumns xs-device-set-margin"},r.a.createElement(v.b,{componentId:"shape",className:"reactive-form-control",dataField:"shape.keyword",title:"Shape",showCount:!1,onValueChange:this.handleShapeDropdownChange})),r.a.createElement("div",{className:"inputColumns xs-device-set-margin"},r.a.createElement(v.b,{componentId:"color",className:"reactive-form-control",dataField:"color.keyword",title:"Color",showCount:!1,onValueChange:this.handleColorDropdownChange})),r.a.createElement("div",{className:"inputColumns xs-device-set-margin"},r.a.createElement(v.b,{componentId:"clarity",className:"reactive-form-control",dataField:"clarity.keyword",title:"Clarity",showCount:!1,transformData:function(t){return e.mapOrder(t,I,"key")},onValueChange:this.handleClarityDropdownChange})),r.a.createElement("div",{className:"inputColumns"},r.a.createElement("h2",{className:"form-control-label"},"Weight"),r.a.createElement("input",{type:"number",className:"form-control",onChange:this.handleWeightInputChange,value:P}),r.a.createElement("label",{className:"include-weight checkbox-inline"},r.a.createElement("input",{type:"checkbox",value:d,onChange:this.handleWeightChange}),"Include 10's weight range.")),r.a.createElement("div",{className:"inputColumns xs-device-set-margin"},r.a.createElement("h2",{className:"form-control-label"},"Mark(%)"),c&&g&&m&&p?r.a.createElement("input",{type:"number",className:"form-control",onChange:this.changeRelToList,value:E}):r.a.createElement("input",{type:"number",className:"form-control",onChange:this.changeRelToList,value:E,disabled:!0}))))),r.a.createElement("div",{id:"result-area"},T)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.userEnteredWeight,n=t.originalHits,r=t.color,l=t.clarity,i=t.shape,o=t.weightInclude;if(r&&i&&l&&a){var c=E()(n,function(e){return Number.parseFloat(e._source.fromweight)<=a&&a<=Number.parseFloat(e._source.toweight)});return c.length||(c=E()(n,function(e){return Number.parseFloat(e._source.fromweight)>=5&&Number.parseFloat(e._source.toweight)<=6}),o&&a>=10&&(console.log("userEnteredWeight",a),c=E()(n,function(e){return Number.parseFloat(e._source.fromweight)>=10&&Number.parseFloat(e._source.toweight)<=10.99}),console.log("10s hit",c))),{hits:c}}return null}}]),t}(n.Component),W=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(m.a,{exact:!0,path:"*",component:O}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(345),a(347);i.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[152,2,1]]]);
//# sourceMappingURL=main.689971ac.chunk.js.map