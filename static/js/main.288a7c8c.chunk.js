(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{156:function(e,t,a){e.exports=a(350)},348:function(e,t,a){},350:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(66),i=a.n(l),o=a(41),s=a(42),c=a(47),u=a(43),h=a(46),d=a(356),g=a(355),m=a(3),v=a(27),p=a(67),E=a(48),f=a.n(E),C=a(12),b=a.n(C),S=a(49),T=a.n(S),P=a(26),w=a.n(P),y=a(15),k=a.n(y),L=a(354),N=a(353),R=function(e){return r.a.createElement("header",null,r.a.createElement(L.a,null,r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Brand,null,r.a.createElement(N.a,{to:"/"},"Diamond Calculator")))))},W=Object(p.default)({url:"https://scalr.api.appbase.io",app:"kwfl-rapnet-prices",credentials:"kg4GbKwx6:063eeb44-18e9-48c9-b5a0-4541d889597f"}),O=["FL","IF","VVS1","VVS2","VS1","VS2","SI1","SI2","SI3","I1","I2","I3"],I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={color:"",shape:"",clarity:"",hits:[],originalHits:[],userEnteredRelToList:0,userEnteredSellPc:0,userEnteredTotalPc:0,isLoading:!1,activeInputField:"",initialRendering:!0,userEnteredWeight:"",userVal:0,checkBoxStatus:!1,weightInclude:!1},a.handleColorDropdownChange=a.handleColorDropdownChange.bind(Object(m.a)(Object(m.a)(a))),a.handleClarityDropdownChange=a.handleClarityDropdownChange.bind(Object(m.a)(Object(m.a)(a))),a.handleShapeDropdownChange=a.handleShapeDropdownChange.bind(Object(m.a)(Object(m.a)(a))),a.changeRelToList=a.changeRelToList.bind(Object(m.a)(Object(m.a)(a))),a.totalPriceChange=a.totalPriceChange.bind(Object(m.a)(Object(m.a)(a))),a.sellPcChange=a.sellPcChange.bind(Object(m.a)(Object(m.a)(a))),a.handleWeightInputChange=a.handleWeightInputChange.bind(Object(m.a)(Object(m.a)(a))),a.handleCheckBoxStatusChange=a.handleCheckBoxStatusChange.bind(Object(m.a)(Object(m.a)(a))),a.handleWeightChange=a.handleWeightChange.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleColorDropdownChange",value:function(e){var t=this;this.setState({color:e},function(){t.getPrice()})}},{key:"handleClarityDropdownChange",value:function(e){var t=this;this.setState({clarity:e},function(){t.getPrice()})}},{key:"handleShapeDropdownChange",value:function(e){var t=this;this.setState({shape:e},function(){t.getPrice()})}},{key:"handleWeightInputChange",value:function(e){this.setState({userEnteredWeight:e.target.value,activeInputField:"WEIGHT"})}},{key:"mapOrder",value:function(e,t,a){return e.sort(function(e,n){var r=e[a],l=n[a];return t.indexOf(r)>t.indexOf(l)?1:-1}),e}},{key:"getPrice",value:function(){var e=this,t=this.state,a=t.color,n=t.shape,r=t.clarity;""!==a&&""!==n&&""!==r&&(this.setState({isLoading:!0}),W.search({type:"rapnetpricingtuestest2",body:{query:{bool:{must:[{bool:{must:[{term:{"shape.keyword":n}},{term:{"color.keyword":a}},{term:{"clarity.keyword":r}}]}}]}},_source:{includes:["*"],excludes:[]},from:0}}).then(function(t){e.setState({hits:t.hits.hits,originalHits:t.hits.hits,isLoading:!1,initialRendering:!1})}).catch(function(t){e.setState({isLoading:!1,initialRendering:!1}),console.log("Error: ",t)}))}},{key:"handleCheckBoxStatusChange",value:function(e){this.setState({checkBoxStatus:e.target.checked})}},{key:"handleWeightChange",value:function(e){this.setState({activeInputField:"WEIGHT",weightInclude:e.target.checked})}},{key:"changeRelToList",value:function(e){var t=e.target.value;console.log("e.target.value;",e.target.value),w()(t)&&(console.log("isEmpty"),t=0),this.setState({activeInputField:"REL_TO_LIST",userEnteredRelToList:t,userVal:e.target.value})}},{key:"totalPriceChange",value:function(e){e.formattedValue;var t=e.value;this.setState({activeInputField:"TOTAL_PRICE",userEnteredTotalPc:t})}},{key:"sellPcChange",value:function(e){e.formattedValue;var t=e.value;this.setState({activeInputField:"SELL_PRICE",userEnteredSellPc:t})}},{key:"getListPrice",value:function(){var e=this.state,t=e.hits,a=e.userEnteredWeight;return t.length&&a?b()(t[0]._source.ppc,2):0}},{key:"getSPWhenRelToListActive",value:function(){var e=this.state,t=e.userEnteredRelToList,a=e.hits,n=0;if(!a.length)return n;if(""===t)return 0;var r=a[0]._source.ppc;return n=k()(r)+k()(r*(t/100)),b()(n,2)}},{key:"getTPWhenRelToListActive",value:function(){var e=this.state,t=e.hits,a=e.userEnteredWeight,n=e.userEnteredRelToList,r=0;if(!t.length)return r;if(""===n)return 0;var l=t[0]._source.ppc,i=k()(l)+k()(l*(n/100));return a>0&&(r=i*a),b()(r,2)}},{key:"getRelToListWhenSPActive",value:function(){console.log("getRelToListWhenSPActive");var e=this.state,t=e.userEnteredSellPc,a=void 0===t?0:t,n=e.hits;console.log("userEnteredSellPc RelACtive",a);var r="";if(!n.length)return r;if(""===a)return 0;var l=n[0]._source.ppc;return r=(a-l)/l*100,console.log("getRelToListWhenSPActive",r),b()(r,2)}},{key:"getTPWhenSPActive",value:function(){var e=this.state,t=e.userEnteredSellPc,a=void 0===t?0:t,n=e.userEnteredWeight,r="";return e.hits.length?""===a?0:(r=a*n,b()(r,2)):r}},{key:"getRelToListWhenTPActive",value:function(){var e=this.state,t=e.hits,a=e.userEnteredTotalPc,n=e.userEnteredWeight,r=(e.userEnteredRelToList,"");if(!t.length)return r;if(""===a)return 0;if(""===n)return 0;console.log("userEnteredWeight Tp",n);var l=t[0]._source.ppc;return r=(a/n-l)/l*100,console.log("relToList",r),b()(r,2)}},{key:"getSPWhenTPActive",value:function(){var e=this.state,t=e.userEnteredTotalPc,a=e.userEnteredWeight,n=e.hits,r=(n[0]&&n[0]._source.ppc,"");return n.length?(r=t/a,b()(r,2)):r}},{key:"convertPriceToCode",value:function(e){if(isNaN(e)||null===e||""===e||0===e)return"";for(var t=(e=Number(e)).toFixed(2).toString(),a="",n="",r=0;r<t.length;r++){var l=t.charAt(r);if("."===l)break;"1"===l?""!==n&&n.slice(-1)===l?(a+="X",n+=l):(a+="B",n+=l):"2"===l?""!==n&&n.slice(-1)===l?(a+="X",n+=l):(a+="I",n+=l):"3"===l?""!==n&&n.slice(-1)===l?(a+="X",n+=l):(a+="G",n+=l):"4"===l?""!==n&&n.slice(-1)===l?(a+="X",n+=l):(a+="E",n+=l):"5"===l?""!==n&&n.slice(-1)===l?(a+="X",n+=l):(a+="S",n+=l):"6"===l?""!==n&&n.slice(-1)===l?(a+="X",n+=l):(a+="T",n+=l):"7"===l?""!==n&&n.slice(-1)===l?(a+="X",n+=l):(a+="H",n+=l):"8"===l?""!==n&&n.slice(-1)===l?(a+="X",n+=l):(a+="A",n+=l):"9"===l?""!==n&&n.slice(-1)===l?(a+="X",n+=l):(a+="L",n+=l):"0"===l&&(""!==n&&n.slice(-1)===l?(a+="X",n+=l):(a+="F",n+=l))}return a}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.activeInputField,l=t.userEnteredRelToList,i=t.userEnteredTotalPc,o=t.userEnteredSellPc,s=t.userEnteredWeight,c=t.hits,u=t.initialRendering,h=t.checkBoxStatus,d=t.weightInclude,g=t.shape,m=t.color,p=t.clarity,E=t.userVal,f=this.getListPrice(),C="",b="",S=f,P=f*s,y=s;switch(console.log("userVal",E),n){case"REL_TO_LIST":C=l,b=w()(C)?E:l,S=this.getSPWhenRelToListActive(),P=this.getTPWhenRelToListActive();break;case"SELL_PRICE":console.log("SELL_PRICE"),C=this.getRelToListWhenSPActive(),b=w()(C)?this.getRelToListWhenSPActive():E,S=o,P=this.getTPWhenSPActive(),console.log("relToList in case",C,"userVal",E);break;case"TOTAL_PRICE":console.log("TOTAL_PRICE",this.getRelToListWhenTPActive()),C=this.getRelToListWhenTPActive(),b=w()(C)?this.getRelToListWhenTPActive():E,S=this.getSPWhenTPActive(),P=i}var k="";return k=u||c.length||""===s?r.a.createElement("fieldset",{className:"form-fieldset"},r.a.createElement("legend",{className:"form-legend"},"Result:"),a&&r.a.createElement("div",{className:"App-Loader"},"Fetching results..."),r.a.createElement("div",{className:"outputSectionRow"},r.a.createElement("div",{className:"outputColumns xs-device-set-margin"},r.a.createElement("div",{className:"show-code-field"},r.a.createElement("label",{htmlFor:"ValueToCodeConvert",className:"conversion-label"},r.a.createElement("input",{type:"checkbox",className:"show-code-input",id:"ValueToCodeConvert",onChange:this.handleCheckBoxStatusChange}),r.a.createElement("span",null,"Show Code")))),r.a.createElement("div",{className:"outputColumns xs-device-set-margin"},r.a.createElement("h2",{className:"form-control-label"},"List Price"),h?"":r.a.createElement(T.a,{disabled:!0,value:f,className:"form-control",thousandSeparator:!0,prefix:"$"}),h&&f?r.a.createElement("div",{className:"showCode"},this.convertPriceToCode(f)):null),r.a.createElement("div",{className:"outputColumns xs-device-set-margin"},r.a.createElement("h2",{className:"form-control-label"},"Sell Price"),h?"":r.a.createElement(T.a,{value:S,className:"form-control",thousandSeparator:!0,onValueChange:function(t){return e.sellPcChange(t)},prefix:"$"}),h&&S?r.a.createElement("div",{className:"showCode"},this.convertPriceToCode(S)):null),r.a.createElement("div",{className:"outputColumns xs-device-set-margin"},r.a.createElement("h2",{className:"form-control-label"},"Total Price"),h?"":r.a.createElement(T.a,{value:P,className:"form-control",thousandSeparator:!0,onValueChange:function(t){return e.totalPriceChange(t)},prefix:"$"}),h&&P?r.a.createElement("div",{className:"showCode"},this.convertPriceToCode(P)):null))):r.a.createElement("div",{className:"No-records"},"No record(s) available."),r.a.createElement("div",{className:"container"},r.a.createElement(R,null),r.a.createElement(v.a,{app:"kwfl-rapnet-prices",credentials:"kg4GbKwx6:063eeb44-18e9-48c9-b5a0-4541d889597f",type:"rapnetpricingtuestest2"},r.a.createElement("div",{id:"input-area"},r.a.createElement("fieldset",{className:"form-fieldset"},r.a.createElement("legend",{className:"form-legend"},"FillUp Details:"),r.a.createElement("div",{className:"inputSectionRow"},r.a.createElement("div",{className:"inputColumns xs-device-set-margin"},r.a.createElement(v.b,{componentId:"shape",className:"reactive-form-control",dataField:"shape.keyword",title:"Shape",showCount:!1,onValueChange:this.handleShapeDropdownChange})),r.a.createElement("div",{className:"inputColumns xs-device-set-margin"},r.a.createElement(v.b,{componentId:"color",className:"reactive-form-control",dataField:"color.keyword",title:"Color",showCount:!1,onValueChange:this.handleColorDropdownChange})),r.a.createElement("div",{className:"inputColumns xs-device-set-margin"},r.a.createElement(v.b,{componentId:"clarity",className:"reactive-form-control",dataField:"clarity.keyword",title:"Clarity",showCount:!1,transformData:function(t){return e.mapOrder(t,O,"key")},onValueChange:this.handleClarityDropdownChange})),r.a.createElement("div",{className:"inputColumns"},r.a.createElement("h2",{className:"form-control-label"},"Weight"),r.a.createElement("input",{type:"number",className:"form-control",onChange:this.handleWeightInputChange,value:y}),r.a.createElement("label",{className:"include-weight checkbox-inline"},r.a.createElement("input",{type:"checkbox",value:d,onChange:this.handleWeightChange}),"Use 10ct price list")),r.a.createElement("div",{className:"inputColumns xs-device-set-margin"},r.a.createElement("h2",{className:"form-control-label"},"Rel to List"),s&&m&&g&&p?r.a.createElement("input",{type:"number",className:"form-control",onChange:this.changeRelToList,value:b}):r.a.createElement("input",{type:"number",className:"form-control",onChange:this.changeRelToList,value:b,disabled:!0}))))),r.a.createElement("div",{id:"result-area"},k)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.userEnteredWeight,n=t.originalHits,r=t.color,l=t.clarity,i=t.shape,o=t.weightInclude;if(r&&i&&l&&a){var s=f()(n,function(e){return Number.parseFloat(e._source.fromweight)<=a&&a<=Number.parseFloat(e._source.toweight)});return a>=10&&(s.length=0),s.length||(o&&a>=10?(console.log("userEnteredWeight",a),s=f()(n,function(e){return Number.parseFloat(e._source.fromweight)>=10&&Number.parseFloat(e._source.toweight)<=10.99}),console.log("10s hit",s)):a>=5&&(s=f()(n,function(e){return Number.parseFloat(e._source.fromweight)>=5&&Number.parseFloat(e._source.toweight)<=5.99}))),{hits:s}}return null}}]),t}(n.Component),j=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(g.a,{exact:!0,path:"*",component:I}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(346),a(348);i.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[156,2,1]]]);
//# sourceMappingURL=main.288a7c8c.chunk.js.map